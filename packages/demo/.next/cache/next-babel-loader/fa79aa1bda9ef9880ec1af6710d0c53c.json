{"ast":null,"code":"import { useQuery } from \"@apollo/react-hooks\";\nimport getCollection from \"../queries/getCollection\";\nimport mapProductsToMultipleVariants from \"../../helpers/mapProductsToMultipleVariants\";\n\nconst useProducts = filters => {\n  const collectionName = filters.find(filter => filter.name === \"collectionName\").value;\n  const productsAmount = filters.find(filter => filter.name === \"productsAmount\").value;\n  const {\n    data,\n    loading\n  } = useQuery(getCollection, {\n    variables: {\n      collectionName,\n      productsAmount\n    }\n  });\n\n  if (!data) {\n    return [data, loading];\n  }\n\n  const {\n    collectionByHandle\n  } = data;\n  const mappedProducts = mapProductsToMultipleVariants(collectionByHandle && collectionByHandle.products ? collectionByHandle.products : []);\n  return [mappedProducts, loading];\n};\n\nexport default useProducts;","map":{"version":3,"sources":["/Users/andrzej/Projects/storefront-ui/demo/graphql/hooks/useProducts.js"],"names":["useQuery","getCollection","mapProductsToMultipleVariants","useProducts","filters","collectionName","find","filter","name","value","productsAmount","data","loading","variables","collectionByHandle","mappedProducts","products"],"mappings":"AAAA,SAASA,QAAT,QAAyB,qBAAzB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,6BAAP,MAA0C,6CAA1C;;AAEA,MAAMC,WAAW,GAAGC,OAAO,IAAI;AAC7B,QAAMC,cAAc,GAAGD,OAAO,CAACE,IAAR,CACrBC,MAAM,IAAIA,MAAM,CAACC,IAAP,KAAgB,gBADL,EAErBC,KAFF;AAGA,QAAMC,cAAc,GAAGN,OAAO,CAACE,IAAR,CACrBC,MAAM,IAAIA,MAAM,CAACC,IAAP,KAAgB,gBADL,EAErBC,KAFF;AAIA,QAAM;AAAEE,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBZ,QAAQ,CAACC,aAAD,EAAgB;AAChDY,IAAAA,SAAS,EAAE;AAAER,MAAAA,cAAF;AAAkBK,MAAAA;AAAlB;AADqC,GAAhB,CAAlC;;AAIA,MAAI,CAACC,IAAL,EAAW;AACT,WAAO,CAACA,IAAD,EAAOC,OAAP,CAAP;AACD;;AAED,QAAM;AAAEE,IAAAA;AAAF,MAAyBH,IAA/B;AAEA,QAAMI,cAAc,GAAGb,6BAA6B,CAClDY,kBAAkB,IAAIA,kBAAkB,CAACE,QAAzC,GACIF,kBAAkB,CAACE,QADvB,GAEI,EAH8C,CAApD;AAMA,SAAO,CAACD,cAAD,EAAiBH,OAAjB,CAAP;AACD,CAzBD;;AA2BA,eAAeT,WAAf","sourcesContent":["import { useQuery } from \"@apollo/react-hooks\";\nimport getCollection from \"../queries/getCollection\";\nimport mapProductsToMultipleVariants from \"../../helpers/mapProductsToMultipleVariants\";\n\nconst useProducts = filters => {\n  const collectionName = filters.find(\n    filter => filter.name === \"collectionName\"\n  ).value;\n  const productsAmount = filters.find(\n    filter => filter.name === \"productsAmount\"\n  ).value;\n\n  const { data, loading } = useQuery(getCollection, {\n    variables: { collectionName, productsAmount }\n  });\n\n  if (!data) {\n    return [data, loading];\n  }\n\n  const { collectionByHandle } = data;\n\n  const mappedProducts = mapProductsToMultipleVariants(\n    collectionByHandle && collectionByHandle.products\n      ? collectionByHandle.products\n      : []\n  );\n\n  return [mappedProducts, loading];\n};\n\nexport default useProducts;\n"]},"metadata":{},"sourceType":"module"}